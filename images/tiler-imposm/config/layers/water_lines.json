{
  "tags": {
    "load_all": true,
    "exclude": [
      "created_by",
      "source",
      "source:datetime"
    ]
  },
  "generalized_tables": {
    "water_lines_zoom_8_9": {
      "source": "water_lines",
      "sql_filter": "type IN ('river', 'canal')",
      "tolerance": 1000
    },
    "water_lines_zoom_10_11": {
      "source": "water_lines",
      "sql_filter": "type IN ('river', 'canal', 'cliff', 'dam')",
      "tolerance": 100
    },
    "water_lines_zoom_12_14": {
      "source": "water_lines",
      "sql_filter": "type IN ('river', 'canal', 'cliff', 'dam', 'stream')",
      "tolerance": 10
    },
    "water_lines_zoom_15_20": {
      "source": "water_lines",
      "sql_filter": "type IN ('river', 'canal', 'cliff', 'dam', 'stream', 'ditch', 'drain')",
      "tolerance": 0
    }
  },
  "tables": {
    "water_lines": {
      "fields": [
        {
          "type": "id",
          "name": "osm_id",
          "key": null
        },
        {
          "type": "geometry",
          "name": "geometry",
          "key": null
        },
        {
          "type": "string",
          "name": "name",
          "key": "name"
        },
        {
          "type": "mapping_value",
          "name": "type",
          "key": null
        },
        {
          "type": "hstore_tags",
          "name": "tags",
          "key": null
        },
        {
          "type": "string",
          "name": "bridge",
          "key": "tags->'bridge'"
        },
        {
          "type": "string",
          "name": "start_date",
          "key": "tags->'start_date'"
        },
        {
          "type": "string",
          "name": "end_date",
          "key": "tags->'end_date'"
        },
        {
          "type": "float",
          "name": "start_decdate",
          "key": "isodatetodecimaldate(pad_date(tags->'start_date', 'start'), FALSE)"
        },
        {
          "type": "float",
          "name": "end_decdate",
          "key": "isodatetodecimaldate(pad_date(tags->'end_date', 'end'), FALSE)"
        }
      ],
      "type": "linestring",
      "mapping": {
        "waterway": ["__any__"],
        "barrier": ["ditch"],
        "natural": ["cliff"]
      }
    }
  }
}